[gd_scene load_steps=7 format=3 uid="uid://i2l03j37eqaw"]

[ext_resource type="Script" uid="uid://vvjmp0m3ptt6" path="res://scripts/level.gd" id="1_asnyn"]
[ext_resource type="PackedScene" uid="uid://byyfb7lyfm2f2" path="res://scenes/Levels and tilemaps/gymnastics.tscn" id="2_asnyn"]
[ext_resource type="PackedScene" uid="uid://oea2uyph2jxn" path="res://scenes/entities/character.tscn" id="4_yphin"]
[ext_resource type="PackedScene" uid="uid://dp2548xx1mi1f" path="res://scenes/entities/push_box.tscn" id="5_2tf11"]
[ext_resource type="PackedScene" uid="uid://d0qt18pkwc3i1" path="res://scenes/entities/railing.tscn" id="6_7fhhq"]
[ext_resource type="PackedScene" uid="uid://bkb4ifmxnfc0s" path="res://scenes/target_marker.tscn" id="6_glihf"]

[node name="LevelGymnastics" type="Node2D"]
script = ExtResource("1_asnyn")
metadata/next_level = 1

[node name="TileMap" parent="." instance=ExtResource("2_asnyn")]

[node name="Character" parent="." instance=ExtResource("4_yphin")]
position = Vector2(-183, 184)

[node name="PushBox" parent="." instance=ExtResource("5_2tf11")]
position = Vector2(-60, 183)
metadata/TileMap = NodePath("../TileMap")

[node name="PushBox2" parent="." instance=ExtResource("5_2tf11")]
position = Vector2(-79, 56)
metadata/TileMap = NodePath("../TileMap")

[node name="TargetMark" parent="PushBox2" instance=ExtResource("6_glihf")]
metadata/TargetPos = NodePath("../../TargetZone")

[node name="TargetZone" parent="." instance=ExtResource("6_glihf")]
position = Vector2(189, 61.000004)
scale = Vector2(0.10166671, 0.0991146)
metadata/IsTarget = true
metadata/TileMap = NodePath("../TileMap")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Railing" parent="." instance=ExtResource("6_7fhhq")]
position = Vector2(60, 62)
rotation = -1.5707964
metadata/tile_map = NodePath("../TileMap")

[node name="Railing2" parent="." instance=ExtResource("6_7fhhq")]
position = Vector2(-64, 64)
metadata/tile_map = NodePath("../TileMap")

[connection signal="started_moving" from="PushBox2" to="PushBox2/TargetMark" method="_on_start_moving"]
[connection signal="stopped_moving" from="PushBox2" to="PushBox2/TargetMark" method="_on_stop_moving"]
[connection signal="reached_target" from="PushBox2/TargetMark" to="." method="_level_finished"]
